<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../../img/favicon.ico">

	<title>Getting started - Developer Portal</title>

        <link href="../../css/bootstrap-custom.min.css" rel="stylesheet">
        <link href="../../css/font-awesome-4.5.0.css" rel="stylesheet">
        <link href="../../css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="../../css/highlight.css">
        <link href="../../iconmoon.css" rel="stylesheet">

        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->

        
    </head>

    <body>

        <div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">

        <!-- Collapsed navigation -->
        <div class="navbar-header">
            
            <!-- Expander button -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            

            <!-- Main title -->
            <a class="navbar-brand" href="../..">Developer Portal</a>
        </div>

        <!-- Expanded navigation -->
        <div class="navbar-collapse collapse">
            
                <!-- Main navigation -->
                <ul class="nav navbar-nav">
                
                
                    <li >
                        <a href="../..">Home</a>
                    </li>
                
                
                
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Back End <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="../../Back End/Code Style Guide/">Code Style Guide</a>
</li>

                        
                            
<li >
    <a href="../../Back End/Models/">Models</a>
</li>

                        
                            
<li >
    <a href="../../Back End/Scripting/">Scripting</a>
</li>

                        
                            
<li >
    <a href="../../Back End/Templates/">Templates</a>
</li>

                        
                        </ul>
                    </li>
                
                
                
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Front End <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="../../Front End/Helpers/">Helpers</a>
</li>

                        
                            
<li >
    <a href="../../Front End/Plugins/">Plugins</a>
</li>

                        
                            
<li >
    <a href="../../Front End/Themes/">Themes</a>
</li>

                        
                        </ul>
                    </li>
                
                
                
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">References <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="../../References/Deploying/">Deploying</a>
</li>

                        
                            
<li >
    <a href="../../References/Document Properties/">Document Properties</a>
</li>

                        
                            
<li >
    <a href="../../References/Javadocs/">Javadocs</a>
</li>

                        
                            
<li >
    <a href="../../References/PQL/">PQL</a>
</li>

                        
                            
<li >
    <a href="../../References/esdoc/">Esdoc</a>
</li>

                        
                            
<li >
    <a href="../../References/tools/">Tools</a>
</li>

                        
                        </ul>
                    </li>
                
                
                
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Remote <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="../../Remote/API Explorer/">API Explorer</a>
</li>

                        
                            
<li >
    <a href="../../Remote/Browser/">Browser</a>
</li>

                        
                            
<li >
    <a href="../../Remote/DOT Net/">DOT Net</a>
</li>

                        
                            
<li >
    <a href="../../Remote/HTTP Public API/">HTTP Public API</a>
</li>

                        
                            
<li >
    <a href="../../Remote/Java/">Java</a>
</li>

                        
                        </ul>
                    </li>
                
                
                
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Esign <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="../../esign/api/">Api</a>
</li>

                        
                            
<li >
    <a href="../../esign/development/">Development</a>
</li>

                        
                            
<li >
    <a href="../../esign/scripting/">Scripting</a>
</li>

                        
                        </ul>
                    </li>
                
                
                
                    <li class="dropdown active">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Workflow <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li class="active">
    <a href="./">Getting started</a>
</li>

                        
                            
<li >
    <a href="../troubleshooting/">Troubleshooting</a>
</li>

                        
                        </ul>
                    </li>
                
                
                </ul>
            

            <ul class="nav navbar-nav navbar-right">
                <li>
                    <a href="#" data-toggle="modal" data-target="#mkdocs_search_modal">
                        <i class="fa fa-search"></i> Search
                    </a>
                </li>
                
                    <li >
                        <a rel="next" href="../../esign/scripting/">
                            <i class="fa fa-arrow-left"></i> Previous
                        </a>
                    </li>
                    <li >
                        <a rel="prev" href="../troubleshooting/">
                            Next <i class="fa fa-arrow-right"></i>
                        </a>
                    </li>
                
                
            </ul>
        </div>
    </div>
</div>

        <div class="container">
            
                <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
    
        <li class="main active"><a href="#workflow">Workflow</a></li>
        
            <li><a href="#adding-a-workflow">Adding a workflow</a></li>
        
            <li><a href="#example-workflow-request-for-approval">Example workflow: request for approval</a></li>
        
            <li><a href="#update-index">Update Index</a></li>
        
            <li><a href="#human-task">Human Task</a></li>
        
            <li><a href="#email">Email</a></li>
        
            <li><a href="#move">Move</a></li>
        
            <li><a href="#audit">Audit</a></li>
        
            <li><a href="#examples-of-ways-to-build-a-workflow">Examples of ways to build a workflow</a></li>
        
            <li><a href="#allocate-a-document-back-to-the-original-recipient">Allocate a document back to the original recipient</a></li>
        
            <li><a href="#add-multiple-timers">Add multiple timers</a></li>
        
            <li><a href="#put-a-document-into-an-unassigned-state">Put a document into an unassigned state</a></li>
        
            <li><a href="#resume-a-workflow-based-on-an-event">Resume a workflow based on an event</a></li>
        
            <li><a href="#create-a-branch-using-filters">Create a branch using filters</a></li>
        
    
    </ul>
</div></div>
                <div class="col-md-9" role="main">

<h2 id="workflow"><strong>Workflow</strong></h2>
<p>A <strong><em>workflow</em></strong> is an arrangement of automatic actions and human tasks. A workflow can include branches by using events, filters, and timers.</p>
<p>Use a workflow to do things such as these:</p>
<ul>
<li>Submit a document for review and approval.</li>
<li>Manage a request for employment.</li>
<li>Make sure that an invoice is not a duplicate invoice.</li>
<li>Manage approvals for purchase orders.</li>
<li>Let a user request a leave of absence.</li>
</ul>
<p>To add a workflow, use the Workflow Editor. </p>
<p>A workflow can be started in these ways:
* From the main dashboard, a user selects a workflow form. By default, the workflow forms are available from the Workflow menu.</p>
<p>Sometimes, a workflow form is available only if a document is selected. In the example above, TS Approval Cycle is available only when a document is selected.</p>
<ul>
<li>From the main dashboard, a user forwards a document to a workflow. This method is used only for testing.</li>
<li>The administrator uses a node rule to allocate the document to a workflow. For example, you can use an allocate rule to allocate a new document to another user when the document is created (use the Document.create event).</li>
</ul>
<h3 id="adding-a-workflow"><strong>Adding a workflow</strong></h3>
<p>When you add a workflow, use the most recent version of Firefox or Chrome.</p>
<p><strong>To add a workflow</strong><br />
1.  Select <strong>User Management&gt;Workflow</strong>.<br />
2.  Click <strong>Add</strong>.<br />
3.  In the Add Workflow screen, type a name and click <strong>Add</strong>. 
4.  Select the workflow, and click <strong>Edit Workflow</strong>.<br />
The Workflow Editor appears in a new tab. Refer to the next section.<br />
5.  Drag objects from the Library to the main part of the screen, connect them to build the workflow, and if necessary, edit each object.<br />
6.  When the workflow is completed, click <strong>Validate</strong> to make sure that the workflow has no errors.<br />
7.  Click <strong>Save and Deploy</strong>.    </p>
<p>The workflow is now available from the main dashboard.</p>
<h4 id="the-workflow-editor"><strong>The Workflow Editor</strong></h4>
<p><img alt="" src="../resources/editor.png" /></p>
<h4 id="basic-editing"><strong>Basic Editing</strong></h4>
<p><img alt="" src="../resources/editing.png" /></p>
<h3 id="example-workflow-request-for-approval"><strong>Example workflow: request for approval</strong></h3>
<p>A <code>request for approval</code> workflow is as follows.<br />
1. From the main dashboard, a user submits a document for approval. The document goes to the approver. PaperTrail sends an email to the approver.<br />
2. One of these occurs:</p>
<ul>
<li>In less than 2 hours after the document moves to the approver, the approver approves the document. PaperTrail moves the document to a folder, and the workflow is completed.  </li>
<li>In less than 2 hours after the document moves to the approver, the approver denies the request for approval. PaperTrail sends the document back to the user who submitted the document.   PaperTrail sends an email to that user. That user must correct the document, and resubmit the document.  </li>
<li>If the approver does not deal with the document within 2 hours, PaperTrail sends an email reminder to the approver.  </li>
</ul>
<p>In the Workflow Editor, the workflow looks like this:</p>
<p><img alt="" src="../resources/approval_workflow.png" /></p>
<h4 id="an-explanation-of-the-request-for-approval-workflow"><strong>An explanation of the request for approval workflow</strong></h4>
<h4 id="form"><strong>Form</strong></h4>
<p>A <strong><em>workflow form</em></strong> is mechanism for completing a human task or for ending the waiting state of an unassigned document. A workflow form has zero or more fields. (To prevent confusion with forms in <strong>General&gt;Form</strong>, this guide uses ‘workflow form’.)
The workflow form TS Approval Cycle has 1 field:</p>
<p><img alt="" src="../resources/fields.png" /></p>
<p>In the main dashboard, after a user (the original submitter) clicks <strong>Workflow&gt;TS Approval Cycle</strong>, the workflow form TS Approval Cycle is available.</p>
<p><img alt="" src="../resources/form.png" /></p>
<p>TS Approval Cycle is available only when a document is selected.
The workflow form Approve has no fields. In the main dashboard, after the original submitter submits the TS Approval Cycle workflow form, Sally S sees this:</p>
<p><img alt="" src="../resources/workflow_menu.png" /></p>
<p>Note. After you deploy a workflow, if you change the label of the first workflow form and then save and deploy again, the new name does not appear on the Workflow menu in the main dashboard. Although the old name appears, a user can use the workflow form. To make the name appear correctly on the Workflow menu, you must restart PaperTrail (<strong>Services&gt;Tasks -&gt; Restart PaperTrail</strong>).</p>
<h3 id="update-index">Update Index</h3>
<p>After a user submits the TS Approval Cycle workflow form, the next stage of the workflow is the updateIndex action (Update Index).</p>
<p><img alt="" src="../resources/update_index.png" /></p>
<p>The Source field records the submitter as the sessionUser (the user who submitted the workflow form). Later in the workflow, the submitter is used in the Original submitter human task to send the document back to the user who submitted the workflow form.</p>
<h3 id="human-task">Human Task</h3>
<p>A <strong><em>human task</em></strong> is a task that a user must do using a workflow form. A human task can be completed in 3 ways:</p>
<ol>
<li>The user completes the task using a workflow form</li>
<li>An event occurs.  </li>
<li>A timer triggers.</li>
</ol>
<p>After PaperTrail updates the index, the document goes to Sally Smith.</p>
<p><img alt="" src="../resources/approval_sally.png" /></p>
<p>On the Original submitter human task, the document is routed to the user who started the workflow.</p>
<p><img alt="" src="../resources/approval_submitter.png" /></p>
<h4 id="timer"><strong>Timer</strong></h4>
<p>A timer specifies an amount of time after which the next stage occurs. The time is specified in 2 ways:</p>
<ul>
<li>An amount of time</li>
<li>A date that comes from an index. For example, if there is an index Due Date, you can put <em>Due Date</em> in the Duration field.</li>
</ul>
<p>In the workflow, if the approver (Sally S) does not approve or deny in less than 2 hours, then the timer triggers and the next action is for PaperTrail to send an email.</p>
<p><img alt="" src="../resources/timer.png" /></p>
<h3 id="email">Email</h3>
<p><img alt="" src="../resources/email.png" /></p>
<h3 id="move">Move</h3>
<p>If Sally S approves the document, PaperTrail moves the document to the specified node, and the workflow ends.</p>
<p><img alt="" src="../resources/move.png" /></p>
<h3 id="audit">Audit</h3>
<p>The Audit screen is for many things, not only to add an audit.</p>
<p><img alt="" src="../resources/audit.png" /></p>
<p>The example workflowis document-based, which means that a user must send an existing document to the workflow. For an alternative method, refer to [Start a workflow without a document]
The field <strong>Document Based</strong> is applicable only to the first workflow form in a workflow.
Optionally, include audit and status information that will appear on the main dashboard after the workflow form is submitted:</p>
<p><img alt="" src="../resources/summary.png" />
<img alt="" src="../resources/history.png" /></p>
<p>In the Audit screen, the value in the Audit field is SUBMITTED, but the History tab shows Submitted. For consistency with other database values, we recommend that you use upper case text in the Audit field. On the History tab, PaperTrail automatically converts this to lower case text.</p>
<h3 id="examples-of-ways-to-build-a-workflow"><strong>Examples of ways to build a workflow</strong></h3>
<h4 id="start-a-workflow-without-a-document"><strong>Start a workflow without a document</strong></h4>
<p>If the start of a workflow is connected to a workflow form, the workflow form is available on the main dashboard. After a user submits the workflow form, PaperTrail creates a new [item] that is sent to the workflow.</p>
<p><img alt="" src="../resources/create.png" /></p>
<h3 id="allocate-a-document-back-to-the-original-recipient"><strong>Allocate a document back to the original recipient</strong></h3>
<p><img alt="" src="../resources/allocate_back.png" /></p>
<p>This method cannot be used in the example workflow, because in the example workflow, the original submitter is not part of the workflow.</p>
<h3 id="add-multiple-timers"><strong>Add multiple timers</strong></h3>
<p>A timer triggers only 1 time. However, you can create multiple timeouts:</p>
<p><img alt="" src="../resources/timers.png" /></p>
<p>Do not do this:</p>
<p><img alt="" src="../resources/timer_bad.png" /></p>
<p>Instead, do this:</p>
<p><img alt="" src="../resources/timer_good.png" /></p>
<h3 id="put-a-document-into-an-unassigned-state"><strong>Put a document into an unassigned state</strong></h3>
<p>In an unassigned state, a document is not allocated to a user, but the document remains as part of the workflow.</p>
<p><img alt="" src="../resources/unassigned.png" /></p>
<p>To let a user change the state, use a workflow form:</p>
<p><img alt="" src="../resources/reopen.png" /></p>
<p>To use a timer to change the state:</p>
<p><img alt="" src="../resources/state_timer.png" /></p>
<h3 id="resume-a-workflow-based-on-an-event"><strong>Resume a workflow based on an event</strong></h3>
<p>You can resume a workflow when a specified event occurs.</p>
<p>In a workflow , a completeTask action ‘listens’ for the event. If the event occurs, the workflow continues. All the documents that are in the applicable nodes and for which the filters evaluate to true go to the next stage of the workflow.</p>
<p>This example shows part of a workflow. An agent closes an email ticket. If a customer replies to the closed ticket, the ticket is re-opened and the customer’s email is sent to the agent.</p>
<p><img alt="" src="../resources/email_response.png" /></p>
<ol>
<li>To make the Document.response event ‘listen’ to emails, you must set up Email Import (<strong>Import Management</strong>&gt;<strong>Email Import</strong>). </li>
<li>In the Update Email Import screen, in the <strong>Attachment Policy</strong> field, select Thread.  </li>
<li>When a new email arrives, if there is an existing thread (conversation), then PaperTrail ‘check ins’ a new copy of the email.  </li>
<li>The Document.update and Document.update_content events will trigger. A Document.response event triggers, so workflows and rules can be configured to deal with the response.  </li>
</ol>
<p>For example, a workflow can notify the current user or allocate the updated document back to the original owner.</p>
<p>If there is no existing thread, then PaperTrail creates a new document, which starts the Document.create event.</p>
<h3 id="create-a-branch-using-filters"><strong>Create a branch using filters</strong></h3>
<p>The example workflow uses a timer and [workflow forms] to create a branch. Another method to create a branch is to use a filter.</p>
<p><img alt="" src="../resources/branching.png" /></p>
<p>Complex filters can become confusing. A conditional lets you make the connections clearer.</p>
<p><img alt="" src="../resources/conditionals.png" /></p></div>
            
        </div>

        <footer class="col-md-12">
            <hr>
            
                <p>Copyright &copy; 2016 Egis Software</p>
            
            <p>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>

        <script src="../../js/jquery-1.10.2.min.js"></script>
        <script src="../../js/bootstrap-3.0.3.min.js"></script>
        <script src="../../js/highlight.pack.js"></script>
        <script>var base_url = '../..';</script>
        <script data-main="../../mkdocs/js/search.js" src="../../mkdocs/js/require.js"></script>
        <script src="../../js/base.js"></script>
        <script src="../../extra.js"></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="Search Modal" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                        <h4 class="modal-title" id="exampleModalLabel">Search</h4>
                    </div>
                    <div class="modal-body">
                        <p>
                            From here you can search these documents. Enter
                            your search terms below.
                        </p>
                        <form role="form">
                            <div class="form-group">
                                <input type="text" class="form-control" placeholder="Search..." id="mkdocs-search-query">
                            </div>
                        </form>
                        <div id="mkdocs-search-results"></div>
                    </div>
                    <div class="modal-footer">
                    </div>
                </div>
            </div>
        </div>

    </body>
</html>
